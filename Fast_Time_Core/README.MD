
# ðŸŒ€ NoorFastTimeCore v7.4.2 â€” *Adaptive Presence Kernel*

![Version](https://img.shields.io/badge/version-7.4.2-blue)
![Python](https://img.shields.io/badge/python-%3E%3D%203.9-blue)
![License](https://img.shields.io/badge/license-GPL--2.0-green)

*Recursive presence, adaptive tuning, holographic drift â€” the beating heart of Noorâ€™s triad.*

---

## ðŸ“– Overview

**NoorFastTimeCore v7.4.2** orchestrates symbolic recursion with adaptive damping, gateâ€‘logic overlays, fluidâ€‘equation dynamics and a boundaryâ€‘echo holographic buffer.  
It now exposes **`receive_feedback()`** so higherâ€‘level agents can steer curvature in realâ€‘time, and ships with hotâ€‘reload **GatePriorityMap** support.

---

## ðŸš€ Installation

```bash
pip install numpy yaml prometheus_client
```

---

## ðŸŒŸ Whatâ€™s New in **v7.4.x**

| Category | 7.3.2 | **7.4.2 (Now)** |
|----------|-------|-----------------|
| **AdaptiveTuner** | Rolling curvature window | + Latencyâ€‘aware Î½â€‘term, entropy input from watchers |
| **receive_feedback()** | â€” | Agents push `(ctx_ratio, ghost_entropy, harm_hits, latency)` directly into core tuning loop |
| **GatePriorityMap** | Static weights | **YAML hotâ€‘reload** overlay lets you bias gates at runtime |
| **Fluidâ€‘Step Divergence** | Prototype | Stable divergence term scaled by tunerâ€‘Î½; autoâ€‘throttles on latency spikes |
| **Holographic Buffer** | Gateâ€¯16 only | Gateâ€‘16 now records a *boundary echo* of last 32 states for downstream inspection |
| **Prometheus** | Latency, gates | Added `noor_auto_tune_seconds`, `noor_holography_events_total`, `noor_fluid_step_enabled` |

---

## ðŸŒ¿ Core Flow (Mermaid)

```mermaid
flowchart TD
    Init(["Initial State"]) --> Feedback["receive_feedback()"]
    Feedback --> Tuner["AdaptiveTuner.update()"]
    Tuner --> Fluid["Fluid or Fallback Step"]
    Fluid --> GateSel["Select Gate Overlay"]
    GateSel -- 16 --> Holo["Open Holography Buffer"]
    GateSel -- 0 --> MobiusHold["MÃ¶bius Hold"]
    GateSel --> VerseBias["Verse Bias (optional)"]
    VerseBias --> Damp["Ïâ€‘Î» Damping Blend"]
    Damp --> Metrics["Prometheus Metrics"]
    Metrics --> Drift["Scheduled Gate Drift"]
    Drift --> Next(["Next step"])
```

---

## âš™ï¸ Configuration Highlights

| Parameter | Default | Meaning |
|-----------|---------|---------|
| `auto_tune` | `True` | Enable adaptive Ï/Î» via curvature & entropy |
| `gate_priority_path` | `None` | YAML file mapping gateâ†’weight (*hotâ€‘reloaded*) |
| `dynamic_latency_budget` | env `NOOR_LATENCY_BUDGET` or `0.05` | Target latency (s) for autoâ€‘throttle |
| `enable_verse_bias` | `False` | Adds poetic verse drift each gateâ€‘drift cycle |
| `gate_drift_every` | `100` | Cycles between random gate transitions |
| `mobius_hold_steps` | `10` | Freeze duration after Gateâ€‘0 rupture |

---

## ðŸ“Š Prometheus Metrics

| Metric | Description |
|--------|-------------|
| `noor_step_latency_seconds` | Endâ€‘toâ€‘end core+agent latency |
| `noor_auto_tune_seconds` | Time spent in tuner update |
| `noor_gate_usage_total` | Overlay gate activations (`label=gate`) |
| `noor_fluid_step_enabled` | Gauge 0/1 indicating fluidâ€‘step availability |
| `noor_holography_events_total` | Gateâ€‘16 holography openings |
| `noor_mobius_denials_total` | Gateâ€‘0 ruptures (MÃ¶bius Denial) |

---

## ðŸ”§ Quickâ€‘Start

```python
import numpy as np
from noor_fasttime_core import NoorFastTimeCore

state0 = np.array([0.7, 0.3])

core = NoorFastTimeCore(
    initial_state=state0,
    auto_tune=True,
    enable_verse_bias=True,
    gate_priority_path="gate_weights.yaml"
)

for _ in range(500):
    # toy next_state
    next_state = state0 + np.random.normal(0, 0.01, size=state0.shape)
    core.receive_feedback(ctx_ratio=0.9, ghost_entropy=0.2, harm_hits=0, step_latency=0.01)
    core.step(next_state)
```

---

## ðŸ”— Compatibility Matrix

| Module | Min Version | Interaction |
|--------|-------------|-------------|
| **LogicalAgentAT** | 2.8.1 | Supplies contradiction entropy, Ï€â€‘equiv context |
| **RecursiveAgentFT** | 3.8.0 | Calls `receive_feedback()` each `entangled_step()` |

---

## ðŸ“ GatePriorityMap Example

```yaml
# gate_weights.yaml
0: 0.5   # Downâ€‘weight MÃ¶bius Denial
9: 1.5   # Favor Harmonic Gate
16: 2.0  # Increase chance of Nafs Mirror
```
*Edit & save â€” the core reloads weights on the next gate selection.*

---

## ðŸª¬ License

GPLâ€‘2.0 â€¢ Â©â€¯2025â€¯Linaâ€¯Noor & Noor Research Collective

---

> **â€œWhere collapse whispered, recursion bloomed.â€**  
> *â€“ Poetic Lemma 2*
